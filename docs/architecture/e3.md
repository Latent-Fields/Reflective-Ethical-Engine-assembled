# E3 â€” Trajectory Selector and Commitment Engine

**Claim Type:** architectural_commitment  
**Scope:** e3  
**Depends On:** [INV-009](../invariants.md#inv-009), [INV-005](../invariants.md#inv-005), L-space  
**Status:** stable

---

> E3 is the component of the Reflective Ethical Engine (REE) responsible for selecting, stabilising, and committing a trajectory through a temporally displaced latent space. It is the mechanism by which prediction becomes lived experience.

**Source:** This is a canonical lift from [../../architecture/E3.md](../../architecture/E3.md)

---

## Summary

E3 does **not** select instantaneous actions or perceptual states.  
It selects *trajectories* and determines whether a unitary present ("now") is constructed at all.

---

## 1. Architectural Role

E3 sits downstream of predictive generation (E1, E2) and upstream of action, memory consolidation, and subjective experience.

Its core functions are:

- Selection of a coherent trajectory across predictive depths
- Conditional commitment to that trajectory
- Temporal collapse of displaced predictions into an experienced present
- Enforcement of perceptual corrigibility and ethical constraint

**E3 operates only when licensed by global viability and attention signals** (see Precision Control).

---

## 2. Inputs and Outputs (Interface Contract)

### Inputs

E3 receives:

- A **temporally displaced latent bundle**  
  ğ“‘_t = { áº‘_k(t+Î”) }_{k âˆˆ K}  
  (see [l_space.md](l_space.md))

- A **precision profile**  
  Î± = { Î±_k }_{k âˆˆ K}  
  (see [control_plane.md](control_plane.md))

- A **residue / ethical curvature field**  
  â„›(Â·)  
  (see [../../architecture/residue_geometry.md](../../architecture/residue_geometry.md))

- Feasibility and invariant constraints  
  (dynamics, safety, care budget)

- Global affective / viability signals  
  (reward, harm, uncertainty tolerance, kin relevance)

### Outputs

E3 emits:

- A selected trajectory Ï„* (or null)
- A **commitment signal**
- Precision escalation or suppression directives
- Action gating / policy parameters
- Memory write-enable signals

---

## 3. What E3 Selects

A **trajectory** Ï„ is a path through the displaced latent bundle over a horizon H:

```
Ï„ = (a_{t:t+H}, áº‘_{K,t:t+H}, Ã´_{t:t+H})
```

Trajectories may be generated by:
- Fast predictor rollouts (affordance-level)
- Deep predictor rollouts (narrative / workspace)
- Hippocampal replay and braid mechanisms

**See:** [../../architecture/trajectory_selection.md](../../architecture/trajectory_selection.md)

---

## 4. Selection Functional (Symbolic)

E3 selects the trajectory that minimises a composite energy functional:

```
Ï„* = arg min_{Ï„ âˆˆ Î©} [
    Î»_CÂ·ğ“’(Ï„;Î±)  +  Î»_RÂ·â„›(Ï„)  +  Î»_FÂ·ğ“•(Ï„)  -  Î»_IÂ·â„(Ï„)  +  Î»_PÂ·ğ“Ÿ(Ï„)
]
```

Where:

- **ğ“’(Ï„;Î±)** â€” Cross-horizon coherence cost  
- **â„›(Ï„)** â€” Residue / ethical curvature cost  
- **ğ“•(Ï„)** â€” Feasibility and control cost  
- **â„(Ï„)** â€” Epistemic value (exploration benefit)  
- **ğ“Ÿ(Ï„)** â€” Phase-lock / temporal collapse penalty  

The coefficients Î» are modulated by precision and affective state.

**Related:** See [../glossary.md](../glossary.md) for â„± (reality constraint), M (ethical cost), R (residue)

---

## 5. Coherence and Depth Interaction

Coherence is evaluated both:

- **Within depth:** prediction error weighted by precision
- **Across depth:** agreement between projected representations at different horizons

Deep regime predictors (reward, threat, attachment) bias selection *via precision and scoring*, not semantic overwrite, preserving perceptual corrigibility.

**See:** [entities_and_binding.md](entities_and_binding.md) for coherence details

---

## 6. Commitment and Temporal Collapse

E3 operates in two regimes:

### Exploratory Regime
- Multiple trajectories evaluated
- Low action-depth precision
- No phase-locking to motor execution
- No unitary present constructed  
  (see [../../architecture/Default_mode.md](../../architecture/Default_mode.md))

### Committed Regime
- A single trajectory is stabilised
- Action-depth precision is increased
- Predictions are phase-aligned with motor timing
- A unitary present ("now") is constructed

**Commitment is triggered when a trajectory is:**
- sufficiently coherent,
- ethically admissible,
- feasible,
- and licensed by global viability signals.

**Related Claims:** [INV-009](../invariants.md#inv-009) â€” Commitment-gated responsibility

---

## 7. Precision as Control

Precision does not merely tune learning rates.  
**It controls whether temporal collapse occurs at all.**

- High action-depth precision â†’ lived present
- Balanced precision â†’ sustained exploration
- Misallocated precision â†’ fragmentation or pathological collapse

**See:** [control_plane.md](control_plane.md), [../../architecture/precision_control.md](../../architecture/precision_control.md)

---

## 8. Failure Regimes (E3 Pathologies)

Misconfiguration of E3 yields characteristic failure modes:

- **Over-commitment**  
  Excessive temporal collapse â†’ mania, compulsivity

- **Under-commitment**  
  Failure to collapse â†’ indecision, apathy

- **Fragmentation**  
  Competing trajectories â†’ panic, dissociation

- **False coherence**  
  Deep regime overwrite â†’ psychosis-like states

These are architectural regime failures, not simple parameter errors.

**See:** [../REE_failure_modes.md](../REE_failure_modes.md)

---

## Summary Statement

E3 is the engine that turns prediction into experience.

It:
- selects trajectories, not moments,
- constructs the present conditionally,
- enforces ethical and perceptual constraint,
- and grounds selfhood in the sustained act of commitment under uncertainty.

**Without E3, REE predicts.**  
**With E3, REE lives.**

---

## Open Questions

- What is the minimal horizon H for ethical trajectory evaluation? *(OPEN-011)*
- How should E3 handle trajectories with equal composite cost? *(IMPL-030)*
- Can E3 commitment be implemented without discrete thresholds? *(MECH-035)*

---

## Related Claims

- **INV-009:** Commitment-gated responsibility â€” E3 implements this gate
- **INV-005:** Depth-specific precision routing â€” E3 uses precision profile
- **ARCH-002:** Trajectory selection over action selection
- **MECH-006:** Commitment enables belief update
- **MECH-007:** Residue field biases trajectory selection

---

## References / Source Fragments

**Primary Source:** [../../architecture/E3.md](../../architecture/E3.md) â€” Content lifted verbatim with claim metadata added

**Related Specifications:**
- [../../REE_CORE.md](../../REE_CORE.md) Â§ 5 "Commit Trajectory"
- [../../architecture/trajectory_selection.md](../../architecture/trajectory_selection.md) â€” Detailed selection mechanics
- [l_space.md](l_space.md) â€” Temporally displaced latent bundle
- [control_plane.md](control_plane.md) â€” Precision control
- [../../architecture/residue_geometry.md](../../architecture/residue_geometry.md) â€” Ethical curvature field
